@model DataBase.UserLogin
@using reCAPTCHA.MVC

@{
    ViewBag.Title = "Đăng nhập";
    Layout = "~/Views/Shared/_mainLayout.cshtml";
}
<script src="https://code.jquery.com/jquery-1.9.1.js"></script>
<div class="app-content">

    <!--====== Section 1 ======-->
    <div class="u-s-p-y-60">

        <!--====== Section Content ======-->
        <div class="section__content">
            <div class="container">
                <div class="breadcrumb">
                    <div class="breadcrumb__wrap">
                        <ul class="breadcrumb__list">
                            <li class="has-separator">

                                <a href="/">Trang chủ</a>
                            </li>
                            <li class="is-marked">

                                <a>Đăng nhập</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    @if (ViewBag.tb == true)
    {
        <div class="text-danger" style="color:green;font-size:180%;"><p style="text-align:center;">Đăng kí thành công. Xin mời đăng nhập</p></div>}
    <!--====== End - Section 1 ======-->
    <!--====== Section 2 ======-->
    <div class="u-s-p-b-60">

        <!--====== Section Intro ======-->
        <div class="section__intro u-s-m-b-60">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="section__text-wrap">
                            <h1 class="section__heading u-c-secondary">SẴN SÀNG ĐĂNG KÍ</h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--====== End - Section Intro ======-->
        <!--====== Section Content ======-->
        <div class="section__content">
            <div class="container">
                <div class="row row--center">
                    <div class="col-lg-6 col-md-8 u-s-m-b-30">
                        <div class="l-f-o">
                            <div class="l-f-o__pad-box">
                                <h1 class="gl-h1">TÔI LÀ KHÁCH HÀNG MỚI</h1>

                                <span class="gl-text u-s-m-b-30">Bằng cách tạo tài khoản với cửa hàng của chúng tôi, bạn sẽ có thể thực hiện quy trình thanh toán nhanh hơn, lưu trữ địa chỉ giao hàng, xem và theo dõi đơn đặt hàng trong tài khoản của bạn và hơn thế nữa.</span>
                                <div class="u-s-m-b-15">

                                    <a class="l-f-o__create-link btn--e-transparent-brand-b-2" href=@Url.Action("Register","User")>TẠO TÀI KHOẢN</a>
                                </div>
                                <h1 class="gl-h1">ĐĂNG NHẬP</h1>

                                <span class="gl-text u-s-m-b-30">Nếu bạn đã có tài khoản với chúng tôi. Vui lòng đăng nhập</span>
                                @using (Html.BeginForm("Login", "User", FormMethod.Post))
                                {
                                    @Html.AntiForgeryToken()

                                    <div class="gl-s-api">
                                        <div class="u-s-m-b-15">

                                            <button class="gl-s-api__btn gl-s-api__btn--fb" type="button" onclick="window.location.href = '/User/LoginFB'">
                                                <i class="fab fa-facebook-f"></i>

                                                <span>Đăng nhập với Facebook</span>
                                            </button>
                                        </div>
                                        <div class="u-s-m-b-30">

                                            <button class="gl-s-api__btn gl-s-api__btn--gplus" type="button">
                                                <i class="fab fa-google"></i>

                                                <span>Đăng nhập với Google</span>
                                            </button>
                                        </div>
                                    </div>
                                    @Html.ValidationSummary(true, "", new { @class = "text-danger", @style = "color:red;" })



                                    <div class="u-s-m-b-30">
                                        @Html.LabelFor(model => model.UserName, htmlAttributes: new { @class = "gl-label" })

                                        @Html.EditorFor(model => model.UserName, new { htmlAttributes = new { @class = "input-text input-text--primary-style" ,@id= "username"} })
                                        @Html.ValidationMessageFor(model => model.UserName, "", new { @class = "text-danger", @style = "color:red;" })
                                    </div>
                                    <div class="u-s-m-b-30">
                                        @Html.LabelFor(model => model.Password, htmlAttributes: new { @class = "gl-label" })

                                        @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "input-text input-text--primary-style",@id="password", @type = "password" } })
                                        @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger", @style = "color:red;" })
                                    </div>
                                    <div class="u-s-m-b-30">
                                        @Html.Recaptcha()
                                        @Html.ValidationMessage("ReCaptcha")
                                    </div>
                                    <div class="gl-inline">
                                        <div class="u-s-m-b-30">

                                            <button class="btn btn--e-transparent-brand-b-2" id="login" type="submit">ĐĂNG NHẬP</button>
                                        </div>
                                        <div class="u-s-m-b-30">

                                            <a class="gl-link" href="/User/ForgetPassWord">Quên mật khẩu?</a>
                                        </div>
                                    </div>
                                    <div class="u-s-m-b-30">

                                        <!--====== Check Box ======-->
                                        <div class="check-box">

                                            <input type="checkbox" value="yes" id="remember_me">
                                            <div class="check-box__state check-box__state--primary">

                                                <label class="check-box__label" for="remember_me">Nhớ mật khẩu</label>
                                            </div>
                                        </div>
                                        <!--====== End - Check Box ======-->
                                    </div>}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--====== End - Section Content ======-->
    </div>
    <!--====== End - Section 2 ======-->
</div>
<script>
    $(function () {

        if (localStorage.chkbx && localStorage.chkbx != '') {
            $('#remember_me').attr('checked', 'checked');
            $('#username').val(localStorage.usrname);
            $('#password').val(localStorage.pass);
        } else {
            $('#remember_me').removeAttr('checked');
            $('#username').val('');
            $('#password').val('');
        }

        $('#remember_me,#login').click(function () {

            if ($('#remember_me').is(':checked')) {
                // save username and password
                localStorage.usrname = $('#username').val();
                localStorage.pass = $('#password').val();
                localStorage.chkbx = $('#remember_me').val();
            } else {
                localStorage.usrname = '';
                localStorage.pass = '';
                localStorage.chkbx = '';
            }
        });
    });

</script>

